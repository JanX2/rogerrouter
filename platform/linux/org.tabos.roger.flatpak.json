{
  "id": "org.tabos.roger",
  "runtime": "org.gnome.Platform",
  "runtime-version": "3.22",
  "sdk": "org.gnome.Sdk",
  "command": "roger",
  "desktop-file-name-prefix": "(Nightly) ",
  "separate-locales": false,
  "no-debuginfo": true,
  "rename-icon": "roger",
  "finish-args": [
     /* X11 + XShm access */
     "--socket=x11", "--share=ipc",
     /* Wayland access */
     "--socket=wayland",
     /* Needs to talk to the network: */
     "--share=network",
     /* Needed for dconf to work */
     "--filesystem=xdg-run/dconf", "--filesystem=~/.config/dconf:ro",
     "--talk-name=ca.desrt.dconf", "--env=DCONF_USER_CONFIG_DIR=.config/dconf",
     /* Spooler access */
     "--filesystem=/var/spool/rm",
     /* LD_LIBRARY_PATH */
     "--env=LD_LIBRARY_PATH=/app/lib64:/app/lib",
     /* Pulseaudio */
     "--socket=pulseaudio"
  ],
  "build-options" : {
        "cflags": "-O2 -g"
    },
  "cleanup": ["/include", "/lib/pkgconfig",
                "/share/pkgconfig", "/share/aclocal",
                "/man", "/share/man", "/share/gtk-doc",
                "*.la", "*.a",
                "/lib/girepository-1.0",
                "/share/doc", "/share/gir-1.0"
  ],
  "modules": [
    {
      "name": "gssdp",
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/gssdp/1.0/gssdp-1.0.1.tar.xz",
          "sha256": "601d67f40bc28c067742b7c46f3018da96b364fd3e83f30ddac6e190e323d2e1"
        }
      ]
    },
    {
      "name": "gupnp",
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/gupnp/1.0/gupnp-1.0.1.tar.xz",
          "sha256": "934584cc1b361bf251a5ac271ffb1995a3c6426ce44cb64f9c6d779f2af9a6d9"
        }
      ]
    },
    {
      "name": "capi20",
      "sources": [
        {
          "type": "archive",
          "url": "https://www.tabos.org/wp-content/uploads/2017/03/capi20-v3.tar.xz",
          "sha256": "d6612fc5472cd40f56de4463975eae602dcab38dc285c0c7d4059a5a35a39724"
        }
      ]
    },
    {
      "name": "spandsp",
      "sources": [
        {
          "type": "archive",
          "url": "http://www.soft-switch.org/downloads/spandsp/spandsp-0.0.6pre21.tgz",
          "sha256": "bd152152bf0b204661ab9439c5a649098bcb8cefebcbfa959dd602442739aa50"
        }
      ]
    },
    {
      "name": "meson",
      "no-autogen": true,
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/mesonbuild/meson/releases/download/0.39.1/meson-0.39.1.tar.gz",
          "sha256": "44885ccfef94d3d4afb1053fa6673ed130d3093fc9e9f6624d08161d8a385220"
        },
        {
          "type": "file",
          "path": "setuptools-makefile",
          "dest-filename": "Makefile"
        }
      ]
    },
    {
      "name": "roger",
      "buildsystem": "meson",
      "builddir": true
    }
  ]
}
